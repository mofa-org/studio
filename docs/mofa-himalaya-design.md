# MoFA Himalaya è®¾è®¡æ–‡æ¡£

> AI æ’­å®¢åˆ¶ä½œå·¥ä½œå®¤ - ä»åˆ›æ„åˆ°æˆå“çš„ä¸€ç«™å¼éŸ³é¢‘å†…å®¹ç”Ÿäº§

## ä¸€ã€é¡¹ç›®å®šä½

### 1.1 æ ¸å¿ƒç†å¿µ

**MoFA Himalaya** æ˜¯ä¸€ä¸ª AI é©±åŠ¨çš„æ’­å®¢/éŸ³é¢‘å†…å®¹ç”Ÿäº§å·¥å…·ï¼Œä¸“æ³¨äºï¼š

- **å†…å®¹ç”Ÿæˆ**ï¼šLLM è‡ªåŠ¨ç”Ÿæˆæ’­å®¢è„šæœ¬
- **è¯­éŸ³åˆæˆ**ï¼šå¤šè§’è‰² TTS é…éŸ³
- **ä¸€é”®æˆç‰‡**ï¼šä»ä¸»é¢˜åˆ°æˆå“éŸ³é¢‘

### 1.2 ä¸ mofa-fm å¯¹æ¯”

| ç‰¹æ€§ | mofa-fm (Web) | MoFA Himalaya (Desktop) |
|------|---------------|-------------------------|
| æ¶æ„ | Django + Vue | Rust + Makepad |
| éƒ¨ç½² | æœåŠ¡ç«¯ | æœ¬åœ°è¿è¡Œ |
| AI è°ƒç”¨ | äº‘ç«¯ API | äº‘ç«¯ API (å¼‚æ­¥) |
| å®æ—¶é¢„è§ˆ | å¦ | æ˜¯ (æµå¼ TTS) |
| å¤šè§’è‰² | æœ‰é™ | å®Œæ•´æ”¯æŒ |
| åç«¯ | REST API | çº¯ Rust æœåŠ¡å±‚ |

### 1.3 ç›®æ ‡ç”¨æˆ·

- æ’­å®¢åˆ›ä½œè€…ï¼ˆä¸ªäºº/å›¢é˜Ÿï¼‰
- è‡ªåª’ä½“å†…å®¹ç”Ÿäº§è€…
- æœ‰å£°ä¹¦åˆ¶ä½œè€…
- ä¼ä¸šåŸ¹è®­å†…å®¹åˆ¶ä½œ

---

## äºŒã€æ ¸å¿ƒåŠŸèƒ½

### 2.1 åŠŸèƒ½æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MoFA Himalaya                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  ğŸ“ è„šæœ¬    â”‚   â”‚  ğŸ™ï¸ é…éŸ³    â”‚   â”‚  ğŸ¬ è¾“å‡º    â”‚       â”‚
â”‚  â”‚   å·¥ä½œå®¤    â”‚ â†’ â”‚   å·¥ä½œå®¤    â”‚ â†’ â”‚   å·¥ä½œå®¤    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   ğŸ“» å®æ—¶é¢„è§ˆæ’­æ”¾å™¨                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 è„šæœ¬å·¥ä½œå®¤ (Script Studio)

**åŠŸèƒ½**ï¼šAI è¾…åŠ©ç”Ÿæˆæ’­å®¢è„šæœ¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è„šæœ¬å·¥ä½œå®¤                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  èŠ‚ç›®ç±»å‹:  [ç§‘æŠ€è¯„è®º â–¼]    é£æ ¼: [è½»æ¾å¹½é»˜ â–¼]              â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ä¸»é¢˜ / ç´ æè¾“å…¥                                         â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚ è¯·è¾“å…¥æ’­å®¢ä¸»é¢˜ï¼Œæˆ–ç²˜è´´å‚è€ƒèµ„æ–™...                       â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚ æ”¯æŒ: çº¯æ–‡æœ¬ / URL / æ–‡ä»¶ä¸Šä¼                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  è§’è‰²è®¾å®š:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ ğŸ‘¨ ä¸»æŒäºº â”‚ â”‚ ğŸ‘© å˜‰å®¾A â”‚ â”‚ + æ·»åŠ    â”‚                    â”‚
â”‚  â”‚ ç†æ€§ä¸“ä¸š  â”‚ â”‚ æ´»æ³¼å¥½å¥‡ â”‚ â”‚          â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                              â”‚
â”‚  æ—¶é•¿ç›®æ ‡: [10åˆ†é’Ÿ â–¼]                                       â”‚
â”‚                                                              â”‚
â”‚                              [ğŸ¤– AI ç”Ÿæˆè„šæœ¬]               â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç”Ÿæˆç»“æœ:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [ä¸»æŒäºº] å¤§å®¶å¥½ï¼Œæ¬¢è¿æ”¶å¬æœ¬æœŸèŠ‚ç›®...                    â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚ [å˜‰å®¾A] ä»Šå¤©æˆ‘ä»¬è¦èŠçš„è¯é¢˜ç‰¹åˆ«æœ‰æ„æ€...                 â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚ [ä¸»æŒäºº] æ²¡é”™ï¼Œæœ€è¿‘ AI é¢†åŸŸå‘ç”Ÿäº†ä¸€ä»¶å¤§äº‹...            â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚ ...                                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  [ğŸ“‹ å¤åˆ¶] [âœï¸ ç¼–è¾‘] [ğŸ”„ é‡æ–°ç”Ÿæˆ] [â¡ï¸ ä¸‹ä¸€æ­¥: é…éŸ³]       â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**AI ç”Ÿæˆèƒ½åŠ›**ï¼š
- æ ¹æ®ä¸»é¢˜è‡ªåŠ¨ç”Ÿæˆå¯¹è¯è„šæœ¬
- æ”¯æŒå¤šè§’è‰²å¯¹è¯ï¼ˆ2-5äººï¼‰
- å¯è°ƒèŠ‚é£æ ¼ï¼ˆä¸¥è‚ƒ/è½»æ¾/å¹½é»˜ï¼‰
- è‡ªåŠ¨æ§åˆ¶æ—¶é•¿
- æ”¯æŒç´ æè¾“å…¥ï¼ˆURL/æ–‡ä»¶ï¼‰

### 2.3 é…éŸ³å·¥ä½œå®¤ (Voice Studio)

**åŠŸèƒ½**ï¼šå¤šè§’è‰² TTS é…éŸ³ä¸ç¼–è¾‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é…éŸ³å·¥ä½œå®¤                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  è§’è‰²é…éŸ³è®¾ç½®:                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ è§’è‰²        éŸ³è‰²              è¯­é€Ÿ    éŸ³è°ƒ    è¯•å¬      â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸ‘¨ ä¸»æŒäºº   [èµµå¤§ç‰›(ç”·) â–¼]   1.0x    0      [â–¶ï¸]       â”‚ â”‚
â”‚  â”‚ ğŸ‘© å˜‰å®¾A    [å°è‰¾(å¥³)  â–¼]   1.1x    +2     [â–¶ï¸]       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  è„šæœ¬æ—¶é—´è½´:                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 00:00 â”ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”ƒ ä¸»æŒäºº: å¤§å®¶å¥½...        [â–¶ï¸][âœï¸]  â”‚ â”‚
â”‚  â”‚ 00:15 â”ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”ƒ     å˜‰å®¾A: ä»Šå¤©æˆ‘ä»¬...        [â–¶ï¸][âœï¸]  â”‚ â”‚
â”‚  â”‚ 00:25 â”ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”ƒ ä¸»æŒäºº: æ²¡é”™...        [â–¶ï¸][âœï¸]  â”‚ â”‚
â”‚  â”‚ 00:42 â”ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”ƒ   å˜‰å®¾A: è¯´åˆ°è¿™ä¸ª...        [â–¶ï¸][âœï¸]  â”‚ â”‚
â”‚  â”‚ ...                                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â–â–‚â–ƒâ–„â–…â–†â–‡â–ˆâ–‡â–†â–…â–„â–ƒâ–‚â–â–‚â–ƒâ–„â–…â–†â–‡â–ˆâ–‡â–†  æ³¢å½¢é¢„è§ˆ                    â”‚ â”‚
â”‚  â”‚ 00:00 â”â”â”â”â”â”â”â”â”â—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 10:30     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  [ğŸ”„ å…¨éƒ¨é‡æ–°ç”Ÿæˆ]  [â–¶ï¸ é¢„è§ˆå…¨éƒ¨]  [â¡ï¸ ä¸‹ä¸€æ­¥: å¯¼å‡º]       â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é…éŸ³èƒ½åŠ›**ï¼š
- å¤šéŸ³è‰²é€‰æ‹©ï¼ˆç”·/å¥³/ç«¥å£°/æ–¹è¨€ï¼‰
- è¯­é€Ÿã€éŸ³è°ƒã€æƒ…æ„Ÿè°ƒèŠ‚
- å•å¥è¯•å¬ä¸é‡æ–°ç”Ÿæˆ
- å®æ—¶æ³¢å½¢é¢„è§ˆ
- æ”¯æŒæ‰‹åŠ¨ç¼–è¾‘æ–‡æœ¬åé‡æ–°åˆæˆ

### 2.4 è¾“å‡ºå·¥ä½œå®¤ (Export Studio)

**åŠŸèƒ½**ï¼šæˆå“å¯¼å‡ºä¸å‘å¸ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¾“å‡ºå·¥ä½œå®¤                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  èŠ‚ç›®ä¿¡æ¯:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æ ‡é¢˜:   [AI å‘¨æŠ¥ #42: GPT-5 æ¥äº†å—ï¼Ÿ              ]    â”‚ â”‚
â”‚  â”‚ æè¿°:   [æœ¬æœŸæˆ‘ä»¬èŠèŠæœ€è¿‘çš„ AI å¤§æ–°é—»...          ]    â”‚ â”‚
â”‚  â”‚ å°é¢:   [ğŸ“ é€‰æ‹©å›¾ç‰‡]  æˆ–  [ğŸ¤– AI ç”Ÿæˆå°é¢]            â”‚ â”‚
â”‚  â”‚ æ ‡ç­¾:   [AI] [ç§‘æŠ€] [æ’­å®¢] [+ æ·»åŠ ]                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  å¯¼å‡ºæ ¼å¼:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [âœ“] MP3 (æ¨è)     ç ç‡: [192kbps â–¼]                   â”‚ â”‚
â”‚  â”‚ [ ] WAV            é‡‡æ ·ç‡: [44.1kHz â–¼]                 â”‚ â”‚
â”‚  â”‚ [ ] FLAC                                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  é™„åŠ é€‰é¡¹:                                                   â”‚
â”‚  [âœ“] ç”Ÿæˆ SRT å­—å¹•æ–‡ä»¶                                      â”‚
â”‚  [âœ“] ç”ŸæˆèŠ‚ç›®æ–‡ç¨¿ (Markdown)                                â”‚
â”‚  [ ] æ·»åŠ èƒŒæ™¯éŸ³ä¹                                           â”‚
â”‚                                                              â”‚
â”‚  è¾“å‡ºè·¯å¾„: [~/Podcasts/ai-weekly-42/        ] [ğŸ“ æµè§ˆ]    â”‚
â”‚                                                              â”‚
â”‚                              [ğŸ“¤ å¯¼å‡º]                       â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¯¼å‡ºè¿›åº¦:                                                   â”‚
â”‚  åˆæˆéŸ³é¢‘... â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 80%                       â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¾“å‡ºèƒ½åŠ›**ï¼š
- å¤šæ ¼å¼å¯¼å‡ºï¼ˆMP3/WAV/FLACï¼‰
- è‡ªåŠ¨ç”Ÿæˆå­—å¹•ï¼ˆSRTï¼‰
- å¯¼å‡ºæ–‡ç¨¿ï¼ˆMarkdownï¼‰
- å°é¢ç”Ÿæˆï¼ˆå¯é€‰ AI ç”Ÿæˆï¼‰
- æ‰¹é‡å¯¼å‡º

---

## ä¸‰ã€æŠ€æœ¯æ¶æ„

### 3.1 åº”ç”¨ç»“æ„

```
apps/mofa-himalaya/
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lib.rs                      # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ screen/
â”‚   â”‚   â”œâ”€â”€ mod.rs                  # ä¸»å±å¹•ï¼ˆå·¥ä½œæµåˆ‡æ¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ design.rs               # UI å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ script_studio.rs        # è„šæœ¬å·¥ä½œå®¤
â”‚   â”‚   â”œâ”€â”€ voice_studio.rs         # é…éŸ³å·¥ä½œå®¤
â”‚   â”‚   â””â”€â”€ export_studio.rs        # è¾“å‡ºå·¥ä½œå®¤
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ project.rs              # é¡¹ç›®æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ script.rs               # è„šæœ¬æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ voice_config.rs         # éŸ³è‰²é…ç½®
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ mod.rs                  # æœåŠ¡å±‚å…¥å£
â”‚       â”œâ”€â”€ llm_client.rs           # LLM API å®¢æˆ·ç«¯
â”‚       â”œâ”€â”€ tts_client.rs           # TTS API å®¢æˆ·ç«¯
â”‚       â”œâ”€â”€ script_generator.rs     # è„šæœ¬ç”ŸæˆæœåŠ¡
â”‚       â”œâ”€â”€ script_parser.rs        # è„šæœ¬è§£ææœåŠ¡
â”‚       â””â”€â”€ audio_exporter.rs       # éŸ³é¢‘å¯¼å‡ºæœåŠ¡
```

### 3.2 çº¯ Rust æœåŠ¡å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         UI å±‚ (Makepad)                      â”‚
â”‚  ScriptStudio | VoiceStudio | ExportStudio | AudioPlayer    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ async channels
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æœåŠ¡å±‚ (Rust Async)                     â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ LlmClient    â”‚  â”‚ TtsClient    â”‚  â”‚ AudioExporterâ”‚      â”‚
â”‚  â”‚ (reqwest)    â”‚  â”‚ (reqwest)    â”‚  â”‚ (symphonia)  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                 â”‚                  â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚              ProjectState (Arc<Mutex>)             â”‚      â”‚
â”‚  â”‚  - script: Script                                  â”‚      â”‚
â”‚  â”‚  - segments: Vec<AudioSegment>                     â”‚      â”‚
â”‚  â”‚  - voice_mappings: Vec<VoiceMapping>              â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ HTTP/HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¤–éƒ¨ API                                â”‚
â”‚  OpenAI / DeepSeek / é€šä¹‰åƒé—® | MiniMax / Azure TTS         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 æœåŠ¡å±‚è®¾è®¡

#### LLM å®¢æˆ·ç«¯ (llm_client.rs)

```rust
use reqwest::Client;
use tokio::sync::mpsc;

pub struct LlmClient {
    client: Client,
    api_key: String,
    base_url: String,
}

impl LlmClient {
    /// æµå¼ç”Ÿæˆè„šæœ¬
    pub async fn generate_script_stream(
        &self,
        prompt: &ScriptPrompt,
        tx: mpsc::Sender<ScriptChunk>,
    ) -> Result<(), LlmError> {
        // è°ƒç”¨ OpenAI/DeepSeek API
        // æµå¼è¿”å›ç”Ÿæˆçš„æ–‡æœ¬ç‰‡æ®µ
    }

    /// ä¸€æ¬¡æ€§ç”Ÿæˆå®Œæ•´è„šæœ¬
    pub async fn generate_script(
        &self,
        prompt: &ScriptPrompt,
    ) -> Result<String, LlmError> {
        // éæµå¼è°ƒç”¨
    }
}

pub struct ScriptPrompt {
    pub topic: String,
    pub roles: Vec<RoleConfig>,
    pub style: ContentStyle,
    pub target_duration: Duration,
    pub context: Option<String>,  // é¢å¤–ç´ æ
}
```

#### TTS å®¢æˆ·ç«¯ (tts_client.rs)

```rust
pub struct TtsClient {
    client: Client,
    provider: TtsProvider,
}

pub enum TtsProvider {
    MiniMax { api_key: String, group_id: String },
    AzureTts { api_key: String, region: String },
    EdgeTts,  // å…è´¹ï¼Œæ— éœ€ API key
}

impl TtsClient {
    /// æµå¼åˆæˆéŸ³é¢‘
    pub async fn synthesize_stream(
        &self,
        text: &str,
        voice: &VoiceConfig,
        tx: mpsc::Sender<AudioChunk>,
    ) -> Result<(), TtsError> {
        // æµå¼è¿”å› PCM éŸ³é¢‘æ•°æ®
    }

    /// è·å–å¯ç”¨éŸ³è‰²åˆ—è¡¨
    pub async fn list_voices(&self) -> Result<Vec<VoiceOption>, TtsError> {
        // è¿”å›è¯¥ provider æ”¯æŒçš„éŸ³è‰²
    }
}

pub struct AudioChunk {
    pub data: Vec<u8>,       // PCM æ•°æ®
    pub sample_rate: u32,
    pub channels: u16,
}
```

#### è„šæœ¬è§£ææœåŠ¡ (script_parser.rs)

```rust
pub struct ScriptParser;

impl ScriptParser {
    /// è§£æè„šæœ¬æ–‡æœ¬ä¸ºç»“æ„åŒ–æ®µè½
    pub fn parse(raw_script: &str) -> Result<ParsedScript, ParseError> {
        // è§£ææ ¼å¼: [è§’è‰²å] å°è¯å†…å®¹
        // è¿”å›ç»“æ„åŒ–çš„æ®µè½åˆ—è¡¨
    }

    /// ä»æ®µè½æå–æ‰€æœ‰è§’è‰²
    pub fn extract_roles(segments: &[ScriptSegment]) -> Vec<String> {
        // å»é‡è¿”å›è§’è‰²åˆ—è¡¨
    }
}

pub struct ParsedScript {
    pub segments: Vec<ScriptSegment>,
    pub roles: Vec<String>,
    pub estimated_duration: Duration,
}
```

#### éŸ³é¢‘å¯¼å‡ºæœåŠ¡ (audio_exporter.rs)

```rust
use symphonia::core::audio::AudioBuffer;

pub struct AudioExporter;

impl AudioExporter {
    /// å¯¼å‡ºä¸º MP3
    pub fn export_mp3(
        segments: &[AudioSegment],
        config: &ExportConfig,
        output_path: &Path,
    ) -> Result<(), ExportError> {
        // æ‹¼æ¥æ‰€æœ‰éŸ³é¢‘æ®µè½
        // ç¼–ç ä¸º MP3
    }

    /// ç”Ÿæˆ SRT å­—å¹•
    pub fn generate_srt(
        segments: &[AudioSegment],
        output_path: &Path,
    ) -> Result<(), ExportError> {
        // æ ¹æ®æ—¶é—´è½´ç”Ÿæˆå­—å¹•
    }

    /// ç”Ÿæˆ Markdown æ–‡ç¨¿
    pub fn generate_transcript(
        segments: &[AudioSegment],
        output_path: &Path,
    ) -> Result<(), ExportError> {
        // ç”Ÿæˆæ ¼å¼åŒ–çš„æ–‡ç¨¿
    }
}
```

### 3.4 UI ä¸æœåŠ¡å±‚é€šä¿¡

ä½¿ç”¨ `tokio` å¼‚æ­¥è¿è¡Œæ—¶ + `mpsc` channel å®ç° UI ä¸åå°æœåŠ¡çš„é€šä¿¡ï¼š

```rust
// åœ¨ Screen ä¸­
pub struct HimalayaScreen {
    #[rust] runtime: tokio::runtime::Runtime,
    #[rust] script_rx: Option<mpsc::Receiver<ScriptChunk>>,
    #[rust] audio_rx: Option<mpsc::Receiver<AudioChunk>>,
    #[rust] project_state: Arc<Mutex<ProjectState>>,
}

impl HimalayaScreen {
    fn generate_script(&mut self, cx: &mut Cx) {
        let (tx, rx) = mpsc::channel(100);
        self.script_rx = Some(rx);

        let client = self.llm_client.clone();
        let prompt = self.build_prompt();

        // åå°å¼‚æ­¥ç”Ÿæˆ
        self.runtime.spawn(async move {
            client.generate_script_stream(&prompt, tx).await
        });
    }

    fn handle_event(&mut self, cx: &mut Cx, event: &Event) {
        // åœ¨ UI äº‹ä»¶å¾ªç¯ä¸­æ£€æŸ¥ channel
        if let Some(rx) = &mut self.script_rx {
            while let Ok(chunk) = rx.try_recv() {
                // æ›´æ–° UI æ˜¾ç¤º
                self.append_script_text(&chunk.text);
                self.redraw(cx);
            }
        }
    }
}
```

### 3.5 ä¾èµ–åº“

```toml
# Cargo.toml
[dependencies]
# å¼‚æ­¥è¿è¡Œæ—¶
tokio = { version = "1", features = ["full"] }

# HTTP å®¢æˆ·ç«¯
reqwest = { version = "0.11", features = ["json", "stream"] }

# JSON åºåˆ—åŒ–
serde = { version = "1", features = ["derive"] }
serde_json = "1"

# éŸ³é¢‘å¤„ç†
symphonia = { version = "0.5", features = ["mp3", "wav", "flac"] }
cpal = "0.15"  # éŸ³é¢‘æ’­æ”¾

# å·¥å…·åº“
chrono = "0.4"
uuid = { version = "1", features = ["v4"] }
```

### 3.6 å¤ç”¨ç°æœ‰ç»„ä»¶

| ç»„ä»¶ | æ¥æº | ç”¨é€” |
|------|------|------|
| `audio_player.rs` | mofa-widgets | éŸ³é¢‘æ’­æ”¾ |
| `waveform_view.rs` | mofa-widgets | æ³¢å½¢æ˜¾ç¤º |
| `theme.rs` | mofa-widgets | ç»Ÿä¸€ä¸»é¢˜ |

### 3.7 æ–°å¢ç»„ä»¶

| ç»„ä»¶ | åŠŸèƒ½ |
|------|------|
| `ScriptEditor` | è„šæœ¬ç¼–è¾‘å™¨ï¼ˆæ”¯æŒè§’è‰²æ ‡æ³¨ï¼‰ |
| `RoleConfigurator` | è§’è‰²é…ç½®é¢æ¿ |
| `VoiceSelector` | éŸ³è‰²é€‰æ‹©å™¨ |
| `TimelineView` | æ—¶é—´è½´è§†å›¾ |
| `ExportPanel` | å¯¼å‡ºé…ç½®é¢æ¿ |
| `ProgressBar` | ç”Ÿæˆè¿›åº¦æ¡ |

---

## å››ã€æ•°æ®æ¨¡å‹

### 4.1 é¡¹ç›®æ¨¡å‹

```rust
/// æ’­å®¢é¡¹ç›®
pub struct PodcastProject {
    pub id: String,
    pub name: String,
    pub created_at: DateTime<Utc>,
    pub updated_at: DateTime<Utc>,

    // é¡¹ç›®é…ç½®
    pub config: ProjectConfig,

    // è„šæœ¬å†…å®¹
    pub script: Script,

    // éŸ³è‰²é…ç½®
    pub voice_mappings: Vec<VoiceMapping>,

    // ç”Ÿæˆçš„éŸ³é¢‘
    pub audio_segments: Vec<AudioSegment>,

    // å¯¼å‡ºé…ç½®
    pub export_config: ExportConfig,
}

pub struct ProjectConfig {
    pub podcast_type: PodcastType,    // ç§‘æŠ€/æ•…äº‹/è®¿è°ˆ/æ•™è‚²
    pub style: ContentStyle,           // ä¸¥è‚ƒ/è½»æ¾/å¹½é»˜
    pub target_duration: Duration,     // ç›®æ ‡æ—¶é•¿
    pub language: Language,
}
```

### 4.2 è„šæœ¬æ¨¡å‹

```rust
/// è„šæœ¬
pub struct Script {
    pub raw_text: String,              // åŸå§‹æ–‡æœ¬
    pub segments: Vec<ScriptSegment>,  // è§£æåçš„æ®µè½
    pub metadata: ScriptMetadata,
}

/// è„šæœ¬æ®µè½
pub struct ScriptSegment {
    pub index: usize,
    pub role: String,                  // è§’è‰²å
    pub text: String,                  // å°è¯
    pub emotion: Option<Emotion>,      // æƒ…æ„Ÿæ ‡æ³¨ï¼ˆå¯é€‰ï¼‰
    pub duration_estimate: Duration,   // é¢„ä¼°æ—¶é•¿
}

/// æƒ…æ„Ÿ
pub enum Emotion {
    Neutral,
    Happy,
    Sad,
    Excited,
    Serious,
    Curious,
}
```

### 4.3 éŸ³è‰²é…ç½®

```rust
/// è§’è‰²-éŸ³è‰²æ˜ å°„
pub struct VoiceMapping {
    pub role: String,                  // è§’è‰²å
    pub voice_id: String,              // éŸ³è‰² ID
    pub voice_name: String,            // éŸ³è‰²æ˜¾ç¤ºå
    pub settings: VoiceSettings,
}

pub struct VoiceSettings {
    pub speed: f32,                    // è¯­é€Ÿ 0.5-2.0
    pub pitch: i32,                    // éŸ³è°ƒ -10 to +10
    pub volume: f32,                   // éŸ³é‡ 0.0-1.0
    pub emotion_intensity: f32,        // æƒ…æ„Ÿå¼ºåº¦ 0.0-1.0
}

/// å¯ç”¨éŸ³è‰²åˆ—è¡¨
pub struct VoiceOption {
    pub id: String,
    pub name: String,
    pub gender: Gender,
    pub language: Language,
    pub style: VoiceStyle,             // æ–°é—»/æ•…äº‹/å¯¹è¯
    pub sample_url: Option<String>,
}
```

### 4.4 éŸ³é¢‘æ®µè½

```rust
/// éŸ³é¢‘æ®µè½
pub struct AudioSegment {
    pub index: usize,
    pub role: String,
    pub text: String,
    pub audio_data: Vec<u8>,           // PCM æ•°æ®
    pub duration: Duration,
    pub start_time: Duration,          // åœ¨æ—¶é—´è½´ä¸Šçš„èµ·å§‹ä½ç½®
    pub status: SegmentStatus,
}

pub enum SegmentStatus {
    Pending,                           // å¾…ç”Ÿæˆ
    Generating,                        // ç”Ÿæˆä¸­
    Ready,                             // å·²å°±ç»ª
    Error(String),                     // ç”Ÿæˆå¤±è´¥
}
```

---

## äº”ã€å·¥ä½œæµç¨‹

### 5.1 å®Œæ•´æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·è¾“å…¥                              â”‚
â”‚  ä¸»é¢˜ / URL / æ–‡ä»¶ / æ‰‹åŠ¨è„šæœ¬                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     1. è„šæœ¬ç”Ÿæˆ                              â”‚
â”‚  LLM æ ¹æ®è¾“å…¥ç”Ÿæˆå¤šè§’è‰²å¯¹è¯è„šæœ¬                             â”‚
â”‚  ç”¨æˆ·å¯ç¼–è¾‘ã€è°ƒæ•´ã€é‡æ–°ç”Ÿæˆ                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     2. è§’è‰²é…ç½®                              â”‚
â”‚  ä¸ºæ¯ä¸ªè§’è‰²åˆ†é…éŸ³è‰²ã€è°ƒèŠ‚è¯­é€Ÿ/éŸ³è°ƒ                          â”‚
â”‚  å¯è¯•å¬å•å¥æ•ˆæœ                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     3. éŸ³é¢‘åˆæˆ                              â”‚
â”‚  æµå¼ TTS ç”Ÿæˆå„æ®µè½éŸ³é¢‘                                    â”‚
â”‚  å®æ—¶é¢„è§ˆã€å¯é‡æ–°ç”Ÿæˆå•å¥                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     4. é¢„è§ˆè°ƒæ•´                              â”‚
â”‚  å®Œæ•´é¢„è§ˆæ’­æ”¾                                                â”‚
â”‚  è°ƒæ•´æ—¶é—´è½´ã€é‡æ–°é…éŸ³ä¸ªåˆ«æ®µè½                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     5. å¯¼å‡ºæˆå“                              â”‚
â”‚  å¯¼å‡º MP3/WAV + SRT å­—å¹• + æ–‡ç¨¿                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 å¿«æ·æµç¨‹ï¼ˆä¸€é”®ç”Ÿæˆï¼‰

```
è¾“å…¥ä¸»é¢˜ â†’ [ä¸€é”®ç”Ÿæˆ] â†’ è‡ªåŠ¨å®Œæˆå…¨éƒ¨æ­¥éª¤ â†’ å¯¼å‡º
```

---

## å…­ã€å®ç°è·¯çº¿

### ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒæ¡†æ¶ (P0)

**ç›®æ ‡**ï¼šè·‘é€šã€Œè¾“å…¥ â†’ è„šæœ¬ â†’ é…éŸ³ â†’ æ’­æ”¾ã€ä¸»æµç¨‹

- [ ] åº”ç”¨éª¨æ¶æ­å»ºï¼ˆä¸‰æ­¥éª¤å¯¼èˆªï¼‰
- [ ] è„šæœ¬è¾“å…¥ç•Œé¢ï¼ˆçº¯æ–‡æœ¬è¾“å…¥ï¼‰
- [ ] LlmClient æ¥å…¥ OpenAI/DeepSeek
- [ ] è„šæœ¬è§£æï¼ˆæå–è§’è‰²å’Œå°è¯ï¼‰
- [ ] TtsClient æ¥å…¥ Edge-TTSï¼ˆå…è´¹ï¼‰
- [ ] åŸºç¡€æ’­æ”¾æ§åˆ¶

**äº¤ä»˜**ï¼šèƒ½è¾“å…¥ä¸»é¢˜ï¼Œç”Ÿæˆè„šæœ¬ï¼Œå•éŸ³è‰²æ’­æ”¾

### ç¬¬äºŒé˜¶æ®µï¼šå¤šè§’è‰²é…éŸ³ (P1)

**ç›®æ ‡**ï¼šæ”¯æŒå¤šè§’è‰²å·®å¼‚åŒ–é…éŸ³

- [ ] è§’è‰²æå–ä¸æ˜¾ç¤º
- [ ] éŸ³è‰²é€‰æ‹©å™¨ UI
- [ ] å¤šéŸ³è‰² TTS æ”¯æŒ (MiniMax/Azure)
- [ ] è¯­é€Ÿ/éŸ³è°ƒè°ƒèŠ‚
- [ ] å•å¥è¯•å¬
- [ ] æ—¶é—´è½´å±•ç¤º

**äº¤ä»˜**ï¼šå¤šè§’è‰²é…éŸ³ï¼Œå¯è°ƒèŠ‚å‚æ•°

### ç¬¬ä¸‰é˜¶æ®µï¼šç¼–è¾‘èƒ½åŠ› (P2)

**ç›®æ ‡**ï¼šç²¾ç»†åŒ–ç¼–è¾‘ä¸è°ƒæ•´

- [ ] è„šæœ¬ç¼–è¾‘å™¨ï¼ˆå¯ä¿®æ”¹æ–‡æœ¬ï¼‰
- [ ] å•å¥é‡æ–°ç”Ÿæˆ
- [ ] æ—¶é—´è½´ç¼–è¾‘ï¼ˆè°ƒæ•´é¡ºåºï¼‰
- [ ] æ³¢å½¢å¯è§†åŒ–
- [ ] æƒ…æ„Ÿæ ‡æ³¨

**äº¤ä»˜**ï¼šå®Œæ•´çš„ç¼–è¾‘èƒ½åŠ›

### ç¬¬å››é˜¶æ®µï¼šå¯¼å‡ºä¸ä¼˜åŒ– (P3)

**ç›®æ ‡**ï¼šæˆå“å¯¼å‡º

- [ ] MP3/WAV å¯¼å‡º (symphonia)
- [ ] SRT å­—å¹•ç”Ÿæˆ
- [ ] Markdown æ–‡ç¨¿å¯¼å‡º
- [ ] é¡¹ç›®ä¿å­˜/åŠ è½½
- [ ] æ‰¹é‡ç”Ÿæˆ

**äº¤ä»˜**ï¼šå®Œæ•´çš„å¯¼å‡ºåŠŸèƒ½

---

## ä¸ƒã€UI ç»„ä»¶è®¾è®¡

### 7.1 StepNavigatorï¼ˆæ­¥éª¤å¯¼èˆªï¼‰

```rust
live_design! {
    StepNavigator = {{StepNavigator}} {
        width: Fill, height: 60
        flow: Right, align: {x: 0.5, y: 0.5}
        spacing: 40

        step1 = <StepItem> { number: "1", label: "è„šæœ¬", active: true }
        connector1 = <StepConnector> {}
        step2 = <StepItem> { number: "2", label: "é…éŸ³", active: false }
        connector2 = <StepConnector> {}
        step3 = <StepItem> { number: "3", label: "å¯¼å‡º", active: false }
    }
}
```

### 7.2 ScriptEditorï¼ˆè„šæœ¬ç¼–è¾‘å™¨ï¼‰

```rust
live_design! {
    ScriptEditor = {{ScriptEditor}} {
        width: Fill, height: Fill

        <ScrollView> {
            segments_list = <PortalList> {
                ScriptSegmentView = <View> {
                    flow: Right, spacing: 12, padding: 8

                    role_badge = <RoleBadge> {
                        width: 80
                    }

                    text_input = <TextInput> {
                        width: Fill
                        multiline: true
                    }

                    actions = <View> {
                        play_btn = <IconButton> { icon: "play" }
                        regen_btn = <IconButton> { icon: "refresh" }
                    }
                }
            }
        }
    }
}
```

### 7.3 VoiceSelectorï¼ˆéŸ³è‰²é€‰æ‹©å™¨ï¼‰

```rust
live_design! {
    VoiceSelector = {{VoiceSelector}} {
        width: 300, height: Fit
        flow: Down, spacing: 8

        header = <Label> { text: "é€‰æ‹©éŸ³è‰²" }

        voice_list = <PortalList> {
            VoiceOption = <View> {
                flow: Right, spacing: 8

                avatar = <View> { width: 40, height: 40 }
                info = <View> {
                    flow: Down
                    name = <Label> {}
                    tags = <Label> {}  // "ç”·å£° Â· æ–°é—»é£æ ¼"
                }
                preview_btn = <IconButton> { icon: "play" }
            }
        }
    }
}
```

### 7.4 TimelineViewï¼ˆæ—¶é—´è½´è§†å›¾ï¼‰

```rust
live_design! {
    TimelineView = {{TimelineView}} {
        width: Fill, height: 200

        // æ—¶é—´åˆ»åº¦
        ruler = <TimeRuler> {}

        // éŸ³é¢‘è½¨é“
        tracks = <ScrollView> {
            track_list = <PortalList> {
                AudioTrack = <View> {
                    height: 40

                    role_label = <Label> { width: 80 }
                    waveform = <WaveformBar> { width: Fill }
                }
            }
        }

        // æ’­æ”¾å¤´
        playhead = <Playhead> {}
    }
}
```

---

## å…«ã€API é›†æˆ

### 8.1 LLM Provider

| Provider | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
|----------|------|----------|
| OpenAI | è´¨é‡æœ€é«˜ | æ­£å¼ç”Ÿäº§ |
| DeepSeek | æ€§ä»·æ¯”é«˜ | æ—¥å¸¸ä½¿ç”¨ |
| é€šä¹‰åƒé—® | ä¸­æ–‡ä¼˜åŒ– | ä¸­æ–‡å†…å®¹ |

### 8.2 TTS Provider

| Provider | ç‰¹ç‚¹ | ä»·æ ¼ |
|----------|------|------|
| Edge-TTS | å…è´¹ã€è´¨é‡ä¸é”™ | å…è´¹ |
| MiniMax | éŸ³è‰²ä¸°å¯Œã€æƒ…æ„Ÿè¡¨è¾¾ | æŒ‰é‡ä»˜è´¹ |
| Azure TTS | ä¼ä¸šçº§ã€ç¨³å®š | æŒ‰é‡ä»˜è´¹ |

---

## ä¹ã€æ€»ç»“

MoFA Himalaya å®šä½ä¸º **AI æ’­å®¢åˆ¶ä½œå·¥ä½œå®¤**ï¼š

1. **è„šæœ¬ç”Ÿæˆ**ï¼šLLM è‡ªåŠ¨ç”Ÿæˆå¤šè§’è‰²å¯¹è¯
2. **é…éŸ³åˆæˆ**ï¼šå¤šéŸ³è‰² TTSï¼Œå¯è°ƒå‚æ•°
3. **å®æ—¶é¢„è§ˆ**ï¼šæµå¼æ’­æ”¾ï¼Œå³æ—¶åé¦ˆ
4. **æˆå“å¯¼å‡º**ï¼šMP3 + å­—å¹• + æ–‡ç¨¿

æŠ€æœ¯é€‰å‹ï¼š**çº¯ Rust æœåŠ¡å±‚**ï¼ˆæ—  Dora æ•°æ®æµï¼‰ï¼Œç®€åŒ–æ¶æ„ï¼Œæ˜“äºå¼€å‘å’Œè°ƒè¯•ã€‚

ä¸ mofa-fm (Web) äº’è¡¥ï¼š
- mofa-fmï¼šäº‘ç«¯æœåŠ¡ï¼Œé€‚åˆå‘å¸ƒå¹³å°
- MoFA Himalayaï¼šæœ¬åœ°å·¥å…·ï¼Œé€‚åˆå†…å®¹åˆ›ä½œ

---

*æ–‡æ¡£ç‰ˆæœ¬: 0.3.0*
*åˆ›å»ºæ—¥æœŸ: 2024-01-20*
*ä½œè€…: Claude*
